<div class="container">
  <div class="d-flex justify-content-between align-items-center mt-3">
    <div class="my-2"><h1 class="fw-bold"><%=post.title%></h1></div>
    <div>
      <a href="/blogs/update/<%= post._id %>" class="btn btn-warning mx-2"
        ><i class="bi bi-cloud-plus"></i
      ></a>
      <button class="delete-post btn btn-danger mx-2" data-doc="<%= post._id %> ">
        <i class="bi bi-trash3"></i>
      </button>
    </div>
  </div>
  <div><span class="badge bg-success"><%=post.snippet%></span></div>
  <div class="m-2">
    <p><%=post.body%></p>
  </div>
</div>

<script>
  const deletePost = document.querySelector(".delete-post");
  deletePost.addEventListener("click", () => {
    const postId = deletePost.getAttribute("data-doc");
    fetch(`/blogs/${postId}`, {
      method: "DELETE",
    })
      .then((res) => res.json())
      .then((data) => {
        window.location.href = data.redirect;
      })
      .catch((err) => console.log(err));
  });
</script>
